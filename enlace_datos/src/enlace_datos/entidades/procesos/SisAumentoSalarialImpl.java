package enlace_datos.entidades.procesos;

import enlace_datos.util.utils;

import enlace_datos.util.utils_DB;

import oracle.jbo.AttributeList;
import oracle.jbo.JboException;
import oracle.jbo.Key;
import oracle.jbo.NameValuePairs;
import oracle.jbo.RowIterator;
import oracle.jbo.domain.Date;
import oracle.jbo.domain.Number;
import oracle.jbo.server.AttributeDefImpl;
import oracle.jbo.server.EntityDefImpl;
import oracle.jbo.server.EntityImpl;
import oracle.jbo.server.TransactionEvent;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class SisAumentoSalarialImpl extends EntityImpl {
    public static final int IDAUMENTOSALARIAL = 0;
    public static final int FECHAINICIO = 1;
    public static final int PORCENTAJE = 2;
    public static final int VALOR = 3;
    public static final int OBSERVACIONES = 4;
    public static final int RETROACTIVO = 5;
    public static final int DISPONIBILIDADACTUAL = 6;
    public static final int DISPONIBILIDADNECESARIA = 7;
    public static final int FECHACREACION = 8;
    public static final int CREADOPOR = 9;
    public static final int IDESTADO = 10;
    public static final int ACTUALIZARESCALAS = 11;
    public static final int IDPROCESO = 12;
    public static final int SISAUMENTOSALDET = 13;
    private static EntityDefImpl mDefinitionObject;

    /**This is the default constructor (do not remove)
     */
    public SisAumentoSalarialImpl() {
    }


    /**Retrieves the definition object for this instance class.
     */
    public static synchronized EntityDefImpl getDefinitionObject() {
        if (mDefinitionObject == null) {
            mDefinitionObject = (EntityDefImpl)EntityDefImpl.findDefObject("enlace_datos.entidades.procesos.SisAumentoSalarial");
        }
        return mDefinitionObject;
    }

    /**Add locking logic here.
     */
    public void lock() {
        super.lock();
    }

    
    private void VerificarEntidad(){
        
        if (this.getFechaInicio()==null){
            throw new JboException("Por favor ingrese la fecha de inicio.");       
        }
        
        if ((this.getPorcentaje()==null || this.getPorcentaje().compareTo(0)<=0)&&(this.getValor()==null ||this.getValor().compareTo(0)<=0)){
            throw new JboException("Por favor ingrese el porcentaje o un valor.");       
        }
        
        if (this.getPorcentaje()!=null && this.getValor()!=null){
            throw new JboException("Por favor ingrese solo el porcentaje o un valor.");       
            
        }
        
        
    }

    /**Custom DML update/insert/delete logic here.
     */
    protected void doDML(int operation, TransactionEvent e) {
        Number vEstado;
        Object vResultado;
    
        VerificarEntidad();
        if (operation==DML_INSERT){
           
           vEstado=utils_DB.getIdEstado(this.getDBTransaction(),"INICIAL","SIS_AUMENTO_SALARIAL");
           vResultado=utils_DB.getValorTabla(this.getDBTransaction(),"SIS_AUMENTO_SALARIAL","nvl(max(id_aumento_salarial),0)+1",null);
           this.setCreadopor(utils.getAuthUser(this.getDBTransaction()));
           this.setIdEstado(vEstado);
           this.setIdAumentoSalarial(utils.getNumberOracle(vResultado));
           vResultado=utils_DB.getValorFuncion2(this.getDBTransaction(),"sis_pkg_util.getNewProceso('AUMENTO SALARIAL',null,to_char(sysdate,'yyyy'),'Aumento salarial',null,'EN AUTORIZACION',null)",null,"select sis_proceso_sq.currval from dual"); 
           this.setIdProceso(utils.getNumberOracle(vResultado));
           
        }
       
        super.doDML(operation, e);
        
    }


    /**Gets the attribute value for IdAumentoSalarial, using the alias name IdAumentoSalarial
     */
    public Number getIdAumentoSalarial() {
        return (Number)getAttributeInternal(IDAUMENTOSALARIAL);
    }

    /**Sets <code>value</code> as the attribute value for IdAumentoSalarial
     */
    public void setIdAumentoSalarial(Number value) {
        setAttributeInternal(IDAUMENTOSALARIAL, value);
    }

    /**Gets the attribute value for FechaInicio, using the alias name FechaInicio
     */
    public Date getFechaInicio() {
        return (Date)getAttributeInternal(FECHAINICIO);
    }

    /**Sets <code>value</code> as the attribute value for FechaInicio
     */
    public void setFechaInicio(Date value) {
        setAttributeInternal(FECHAINICIO, value);
    }

    /**Gets the attribute value for Porcentaje, using the alias name Porcentaje
     */
    public Number getPorcentaje() {
        return (Number)getAttributeInternal(PORCENTAJE);
    }

    /**Sets <code>value</code> as the attribute value for Porcentaje
     */
    public void setPorcentaje(Number value) {
       
        this.setactualizarEscalas(true);
        setAttributeInternal(PORCENTAJE, value);
    }

    /**Gets the attribute value for Valor, using the alias name Valor
     */
    public Number getValor() {
        return (Number)getAttributeInternal(VALOR);
    }

    /**Sets <code>value</code> as the attribute value for Valor
     */
    public void setValor(Number value) {
        setAttributeInternal(VALOR, value);
    }

    /**Gets the attribute value for Observaciones, using the alias name Observaciones
     */
    public String getObservaciones() {
        return (String)getAttributeInternal(OBSERVACIONES);
    }

    /**Sets <code>value</code> as the attribute value for Observaciones
     */
    public void setObservaciones(String value) {
        setAttributeInternal(OBSERVACIONES, value);
    }

    /**Gets the attribute value for Retroactivo, using the alias name Retroactivo
     */
    public String getRetroactivo() {
        return (String)getAttributeInternal(RETROACTIVO);
    }

    /**Sets <code>value</code> as the attribute value for Retroactivo
     */
    public void setRetroactivo(String value) {
        setAttributeInternal(RETROACTIVO, value);
    }

    /**Gets the attribute value for DisponibilidadActual, using the alias name DisponibilidadActual
     */
    public Number getDisponibilidadActual() {
        return (Number)getAttributeInternal(DISPONIBILIDADACTUAL);
    }

    /**Sets <code>value</code> as the attribute value for DisponibilidadActual
     */
    public void setDisponibilidadActual(Number value) {
        setAttributeInternal(DISPONIBILIDADACTUAL, value);
    }

    /**Gets the attribute value for DisponibilidadNecesaria, using the alias name DisponibilidadNecesaria
     */
    public Number getDisponibilidadNecesaria() {
        return (Number)getAttributeInternal(DISPONIBILIDADNECESARIA);
    }

    /**Sets <code>value</code> as the attribute value for DisponibilidadNecesaria
     */
    public void setDisponibilidadNecesaria(Number value) {
        setAttributeInternal(DISPONIBILIDADNECESARIA, value);
    }

    /**Gets the attribute value for FechaCreacion, using the alias name FechaCreacion
     */
    public Date getFechaCreacion() {
        return (Date)getAttributeInternal(FECHACREACION);
    }

    /**Sets <code>value</code> as the attribute value for FechaCreacion
     */
    public void setFechaCreacion(Date value) {
        setAttributeInternal(FECHACREACION, value);
    }

    /**Gets the attribute value for Creadopor, using the alias name Creadopor
     */
    public String getCreadopor() {
        return (String)getAttributeInternal(CREADOPOR);
    }

    /**Sets <code>value</code> as the attribute value for Creadopor
     */
    public void setCreadopor(String value) {
        setAttributeInternal(CREADOPOR, value);
    }

    /**Gets the attribute value for IdEstado, using the alias name IdEstado
     */
    public Number getIdEstado() {
        return (Number)getAttributeInternal(IDESTADO);
    }

    /**Sets <code>value</code> as the attribute value for IdEstado
     */
    public void setIdEstado(Number value) {
        setAttributeInternal(IDESTADO, value);
    }

    /**getAttrInvokeAccessor: generated method. Do not modify.
     */
    protected Object getAttrInvokeAccessor(int index, 
                                           AttributeDefImpl attrDef) throws Exception {
        switch (index) {
        case IDAUMENTOSALARIAL:
            return getIdAumentoSalarial();
        case FECHAINICIO:
            return getFechaInicio();
        case PORCENTAJE:
            return getPorcentaje();
        case VALOR:
            return getValor();
        case OBSERVACIONES:
            return getObservaciones();
        case RETROACTIVO:
            return getRetroactivo();
        case DISPONIBILIDADACTUAL:
            return getDisponibilidadActual();
        case DISPONIBILIDADNECESARIA:
            return getDisponibilidadNecesaria();
        case FECHACREACION:
            return getFechaCreacion();
        case CREADOPOR:
            return getCreadopor();
        case IDESTADO:
            return getIdEstado();
        case ACTUALIZARESCALAS:
            return getactualizarEscalas();
        case IDPROCESO:
            return getIdProceso();
        case SISAUMENTOSALDET:
            return getSisAumentoSalDet();
        default:
            return super.getAttrInvokeAccessor(index, attrDef);
        }
    }

    /**setAttrInvokeAccessor: generated method. Do not modify.
     */
    protected void setAttrInvokeAccessor(int index, Object value, 
                                         AttributeDefImpl attrDef) throws Exception {
        switch (index) {
        case IDAUMENTOSALARIAL:
            setIdAumentoSalarial((Number)value);
            return;
        case FECHAINICIO:
            setFechaInicio((Date)value);
            return;
        case PORCENTAJE:
            setPorcentaje((Number)value);
            return;
        case VALOR:
            setValor((Number)value);
            return;
        case OBSERVACIONES:
            setObservaciones((String)value);
            return;
        case RETROACTIVO:
            setRetroactivo((String)value);
            return;
        case DISPONIBILIDADACTUAL:
            setDisponibilidadActual((Number)value);
            return;
        case DISPONIBILIDADNECESARIA:
            setDisponibilidadNecesaria((Number)value);
            return;
        case FECHACREACION:
            setFechaCreacion((Date)value);
            return;
        case CREADOPOR:
            setCreadopor((String)value);
            return;
        case IDESTADO:
            setIdEstado((Number)value);
            return;
        case ACTUALIZARESCALAS:
            setactualizarEscalas((Boolean)value);
            return;
        case IDPROCESO:
            setIdProceso((Number)value);
            return;
        default:
            super.setAttrInvokeAccessor(index, value, attrDef);
            return;
        }
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisAumentoSalDet() {
        return (RowIterator)getAttributeInternal(SISAUMENTOSALDET);
    }


    /**Add attribute defaulting logic in this method.
     */
    protected void create(AttributeList attributeList) {
        super.create(attributeList);
    }

    /**Gets the attribute value for actualizarEscalas, using the alias name actualizarEscalas
     */
    public Boolean getactualizarEscalas() {
        return (Boolean)getAttributeInternal(ACTUALIZARESCALAS);
    }

    /**Sets <code>value</code> as the attribute value for actualizarEscalas
     */
    public void setactualizarEscalas(Boolean value) {
        setAttributeInternal(ACTUALIZARESCALAS, value);
    }

    /**Gets the attribute value for IdProceso, using the alias name IdProceso
     */
    public Number getIdProceso() {
        return (Number)getAttributeInternal(IDPROCESO);
    }

    /**Sets <code>value</code> as the attribute value for IdProceso
     */
    public void setIdProceso(Number value) {
        setAttributeInternal(IDPROCESO, value);
    }

    /**Creates a Key object based on given key constituents
     */
    public static Key createPrimaryKey(Number idAumentoSalarial) {
        return new Key(new Object[]{idAumentoSalarial});
    }
}
