package enlace_datos.entidades.gestiones;

import enlace_datos.consultas.QUERRYSImpl;

import enlace_datos.util.myEntityImpl;
import enlace_datos.util.utils;
import enlace_datos.util.utils_DB;

import java.util.ArrayList;

import java.util.List;

import oracle.jbo.AttributeList;
import oracle.jbo.JboException;
import oracle.jbo.Key;
import oracle.jbo.NameValuePairs;
import oracle.jbo.RowIterator;
import oracle.jbo.domain.Date;
import oracle.jbo.domain.Number;
import oracle.jbo.server.AttributeDefImpl;
import oracle.jbo.server.EntityDefImpl;
import oracle.jbo.server.EntityImpl;
import oracle.jbo.server.TransactionEvent;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class SisEmpleadoImpl extends myEntityImpl {
    public static final int REGISTROEMPLEADO = 0;
    public static final int IDNIVEL = 1;
    public static final int IDESTADO = 2;
    public static final int IDNACIONALIDAD = 3;
    public static final int APELLIDO1 = 4;
    public static final int APELLIDO2 = 5;
    public static final int APELLIDOCASADA = 6;
    public static final int NOMBRE1 = 7;
    public static final int NOMBRE2 = 8;
    public static final int NOMBRE3 = 9;
    public static final int ESTADOCIVIL = 10;
    public static final int GENERO = 11;
    public static final int FECHANACIMIENTO = 12;
    public static final int ORDENCEDULA = 13;
    public static final int REGISTROCEDULA = 14;
    public static final int MUNICIPIOCEDULA = 15;
    public static final int NIT = 16;
    public static final int IGSS = 17;
    public static final int TELCASA = 18;
    public static final int CELULAR = 19;
    public static final int FAX = 20;
    public static final int EMAIL = 21;
    public static final int TITULO = 22;
    public static final int COLEGIADO = 23;
    public static final int CREADOPOR = 24;
    public static final int FECHACREACION = 25;
    public static final int MODPOR = 26;
    public static final int CUI = 27;
    public static final int NOPROBIDAD = 28;
    public static final int IDCOLEGIOPROFESIONAL = 29;
    public static final int IDINSTITUCIONACADEMICA = 30;
    public static final int FECHAINGRESO = 31;
    public static final int EMAILINSTITUCIONAL = 32;
    public static final int TELEFONOTRABAJO = 33;
    public static final int TELEFONOEXTENSION = 34;
    public static final int UBICACION = 35;
    public static final int IDTIPOINSTACADEMICA = 36;
    public static final int OTROTRABAJO = 37;
    public static final int NOMBREEMPRESA = 38;
    public static final int DIRECCIONEMPRESA = 39;
    public static final int FECHAINGRESOEMP = 40;
    public static final int HORARIOTRABAJO = 41;
    public static final int MODPOR1 = 42;
    public static final int FECHAMODIFICACION = 43;
    public static final int JUBSEL = 44;
    public static final int IDTIPOJUBILADO = 45;
    public static final int PLANPRESTACIONES = 46;
    public static final int NOPASAPORTE = 47;
    public static final int NOMCOMPLETOCHEQ = 48;
    public static final int CLV = 49;
    public static final int TIPOPUESTOAPLICA = 50;
    public static final int SUBPROGRAMA = 51;
    public static final int CAMBIONOMBRE = 52;
    public static final int MOTIVOCMBNOM = 53;
    public static final int TIPOORIGEN = 54;
    public static final int TPVALIDACION = 55;
    public static final int IDGRUPOETNICO = 56;
    public static final int IDPAISORIGEN = 57;
    public static final int SISSOLICITUD = 58;
    public static final int SISSOLICITUD1 = 59;
    public static final int SISDEDUCCIONISR = 60;
    public static final int SISDIRECCION = 61;
    public static final int SISCUENTA = 62;
    public static final int SISCUENTA1 = 63;
    public static final int SISFORMAPAGO = 64;
    public static final int SISFORMAPAGO1 = 65;
    public static final int SISVARIACIONNOMINA = 66;
    public static final int SISVARIACIONNOMINA1 = 67;
    public static final int SISARCHIVOADJUNTO = 68;
    public static final int SISEMPLEADOJUBILADO = 69;
    public static final int SISDETPLAZACUBRELIC = 70;
    public static final int SISGRUPOETNICO = 71;
    private static EntityDefImpl mDefinitionObject;
    private int vOpcionRegistro;
    private int vtipoValidacion=0;
    private Number vPlanPrestaciones;
    private String vNombreC;

    /**This is the default constructor (do not remove)
     */
    public SisEmpleadoImpl() {
        this.vColumnasVerif=new int[]{1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,22,23,27,28,29,30,31,47};
    }


    /**Retrieves the definition object for this instance class.
     */
    public static synchronized EntityDefImpl getDefinitionObject() {
        if (mDefinitionObject == null) {
            mDefinitionObject = (EntityDefImpl)EntityDefImpl.findDefObject("enlace_datos.entidades.gestiones.SisEmpleado");
        }
        return mDefinitionObject;
    }

    /**Gets the attribute value for RegistroEmpleado, using the alias name RegistroEmpleado
     */
    public Number getRegistroEmpleado() {
        return (Number)getAttributeInternal(REGISTROEMPLEADO);
    }

    /**Sets <code>value</code> as the attribute value for RegistroEmpleado
     */
    public void setRegistroEmpleado(Number value) {
        setAttributeInternal(REGISTROEMPLEADO, value);
    }

    /**Gets the attribute value for IdNivel, using the alias name IdNivel
     */
    public Number getIdNivel() {
        return (Number)getAttributeInternal(IDNIVEL);
    }

    /**Sets <code>value</code> as the attribute value for IdNivel
     */
    public void setIdNivel(Number value) {
        setAttributeInternal(IDNIVEL, value);
    }

    /**Gets the attribute value for IdEstado, using the alias name IdEstado
     */
    public Number getIdEstado() {
        return (Number)getAttributeInternal(IDESTADO);
    }

    /**Sets <code>value</code> as the attribute value for IdEstado
     */
    public void setIdEstado(Number value) {
        setAttributeInternal(IDESTADO, value);
    }

    /**Gets the attribute value for IdNacionalidad, using the alias name IdNacionalidad
     */
    public Number getIdNacionalidad() {
        return (Number)getAttributeInternal(IDNACIONALIDAD);
    }

    /**Sets <code>value</code> as the attribute value for IdNacionalidad
     */
    public void setIdNacionalidad(Number value) {
        setAttributeInternal(IDNACIONALIDAD, value);
    }

    /**Gets the attribute value for Apellido1, using the alias name Apellido1
     */
    public String getApellido1() {
        return (String)getAttributeInternal(APELLIDO1);
    }

    /**Sets <code>value</code> as the attribute value for Apellido1
     */
    public void setApellido1(String value) {
        setAttributeInternal(APELLIDO1, value);
    }

    /**Gets the attribute value for Apellido2, using the alias name Apellido2
     */
    public String getApellido2() {
        return (String)getAttributeInternal(APELLIDO2);
    }

    /**Sets <code>value</code> as the attribute value for Apellido2
     */
    public void setApellido2(String value) {
        setAttributeInternal(APELLIDO2, value);
    }

    /**Gets the attribute value for Apellidocasada, using the alias name Apellidocasada
     */
    public String getApellidocasada() {
        return (String)getAttributeInternal(APELLIDOCASADA);
    }

    /**Sets <code>value</code> as the attribute value for Apellidocasada
     */
    public void setApellidocasada(String value) {
        setAttributeInternal(APELLIDOCASADA, value);
    }

    /**Gets the attribute value for Nombre1, using the alias name Nombre1
     */
    public String getNombre1() {
        return (String)getAttributeInternal(NOMBRE1);
    }

    /**Sets <code>value</code> as the attribute value for Nombre1
     */
    public void setNombre1(String value) {
        setAttributeInternal(NOMBRE1, value);
    }

    /**Gets the attribute value for Nombre2, using the alias name Nombre2
     */
    public String getNombre2() {
        return (String)getAttributeInternal(NOMBRE2);
    }

    /**Sets <code>value</code> as the attribute value for Nombre2
     */
    public void setNombre2(String value) {
        setAttributeInternal(NOMBRE2, value);
    }

    /**Gets the attribute value for Nombre3, using the alias name Nombre3
     */
    public String getNombre3() {
        return (String)getAttributeInternal(NOMBRE3);
    }

    /**Sets <code>value</code> as the attribute value for Nombre3
     */
    public void setNombre3(String value) {
        setAttributeInternal(NOMBRE3, value);
    }

    /**Gets the attribute value for Estadocivil, using the alias name Estadocivil
     */
    public String getEstadocivil() {
        return (String)getAttributeInternal(ESTADOCIVIL);
    }

    /**Sets <code>value</code> as the attribute value for Estadocivil
     */
    public void setEstadocivil(String value) {
        setAttributeInternal(ESTADOCIVIL, value);
    }

    /**Gets the attribute value for Genero, using the alias name Genero
     */
    public String getGenero() {
        return (String)getAttributeInternal(GENERO);
    }

    /**Sets <code>value</code> as the attribute value for Genero
     */
    public void setGenero(String value) {
        setAttributeInternal(GENERO, value);
    }

    /**Gets the attribute value for FechaNacimiento, using the alias name FechaNacimiento
     */
    public Date getFechaNacimiento() {
        return (Date)getAttributeInternal(FECHANACIMIENTO);
    }

    /**Sets <code>value</code> as the attribute value for FechaNacimiento
     */
    public void setFechaNacimiento(Date value) {
        setAttributeInternal(FECHANACIMIENTO, value);
    }

    /**Gets the attribute value for OrdenCedula, using the alias name OrdenCedula
     */
    public String getOrdenCedula() {
        return (String)getAttributeInternal(ORDENCEDULA);
    }

    /**Sets <code>value</code> as the attribute value for OrdenCedula
     */
    public void setOrdenCedula(String value) {
        setAttributeInternal(ORDENCEDULA, value);
    }

    /**Gets the attribute value for RegistroCedula, using the alias name RegistroCedula
     */
    public Number getRegistroCedula() {
        return (Number)getAttributeInternal(REGISTROCEDULA);
    }

    /**Sets <code>value</code> as the attribute value for RegistroCedula
     */
    public void setRegistroCedula(Number value) {
        setAttributeInternal(REGISTROCEDULA, value);
    }

    /**Gets the attribute value for MunicipioCedula, using the alias name MunicipioCedula
     */
    public Number getMunicipioCedula() {
        return (Number)getAttributeInternal(MUNICIPIOCEDULA);
    }

    /**Sets <code>value</code> as the attribute value for MunicipioCedula
     */
    public void setMunicipioCedula(Number value) {
        setAttributeInternal(MUNICIPIOCEDULA, value);
    }

    /**Gets the attribute value for Nit, using the alias name Nit
     */
    public String getNit() {
        return (String)getAttributeInternal(NIT);
    }

    /**Sets <code>value</code> as the attribute value for Nit
     */
    public void setNit(String value) {
        setAttributeInternal(NIT, value);
    }

    /**Gets the attribute value for Igss, using the alias name Igss
     */
    public String getIgss() {
        return (String)getAttributeInternal(IGSS);
    }

    /**Sets <code>value</code> as the attribute value for Igss
     */
    public void setIgss(String value) {
        setAttributeInternal(IGSS, value);
    }

    /**Gets the attribute value for TelCasa, using the alias name TelCasa
     */
    public String getTelCasa() {
        return (String)getAttributeInternal(TELCASA);
    }

    /**Sets <code>value</code> as the attribute value for TelCasa
     */
    public void setTelCasa(String value) {
        setAttributeInternal(TELCASA, value);
    }

    /**Gets the attribute value for Celular, using the alias name Celular
     */
    public String getCelular() {
        return (String)getAttributeInternal(CELULAR);
    }

    /**Sets <code>value</code> as the attribute value for Celular
     */
    public void setCelular(String value) {
        setAttributeInternal(CELULAR, value);
    }

    /**Gets the attribute value for Fax, using the alias name Fax
     */
    public String getFax() {
        return (String)getAttributeInternal(FAX);
    }

    /**Sets <code>value</code> as the attribute value for Fax
     */
    public void setFax(String value) {
        setAttributeInternal(FAX, value);
    }

    /**Gets the attribute value for Email, using the alias name Email
     */
    public String getEmail() {
        return (String)getAttributeInternal(EMAIL);
    }

    /**Sets <code>value</code> as the attribute value for Email
     */
    public void setEmail(String value) {
        setAttributeInternal(EMAIL, value);
    }

    /**Gets the attribute value for Titulo, using the alias name Titulo
     */
    public String getTitulo() {
        return (String)getAttributeInternal(TITULO);
    }

    /**Sets <code>value</code> as the attribute value for Titulo
     */
    public void setTitulo(String value) {
        setAttributeInternal(TITULO, value);
    }

    /**Gets the attribute value for Colegiado, using the alias name Colegiado
     */
    public String getColegiado() {
        return (String)getAttributeInternal(COLEGIADO);
    }

    /**Sets <code>value</code> as the attribute value for Colegiado
     */
    public void setColegiado(String value) {
        setAttributeInternal(COLEGIADO, value);
    }

    /**getAttrInvokeAccessor: generated method. Do not modify.
     */
    protected Object getAttrInvokeAccessor(int index, 
                                           AttributeDefImpl attrDef) throws Exception {
        switch (index) {
        case REGISTROEMPLEADO:
            return getRegistroEmpleado();
        case IDNIVEL:
            return getIdNivel();
        case IDESTADO:
            return getIdEstado();
        case IDNACIONALIDAD:
            return getIdNacionalidad();
        case APELLIDO1:
            return getApellido1();
        case APELLIDO2:
            return getApellido2();
        case APELLIDOCASADA:
            return getApellidocasada();
        case NOMBRE1:
            return getNombre1();
        case NOMBRE2:
            return getNombre2();
        case NOMBRE3:
            return getNombre3();
        case ESTADOCIVIL:
            return getEstadocivil();
        case GENERO:
            return getGenero();
        case FECHANACIMIENTO:
            return getFechaNacimiento();
        case ORDENCEDULA:
            return getOrdenCedula();
        case REGISTROCEDULA:
            return getRegistroCedula();
        case MUNICIPIOCEDULA:
            return getMunicipioCedula();
        case NIT:
            return getNit();
        case IGSS:
            return getIgss();
        case TELCASA:
            return getTelCasa();
        case CELULAR:
            return getCelular();
        case FAX:
            return getFax();
        case EMAIL:
            return getEmail();
        case TITULO:
            return getTitulo();
        case COLEGIADO:
            return getColegiado();
        case CREADOPOR:
            return getCreadoPor();
        case FECHACREACION:
            return getFechaCreacion();
        case MODPOR:
            return getModPor();
        case CUI:
            return getCui();
        case NOPROBIDAD:
            return getNoProbidad();
        case IDCOLEGIOPROFESIONAL:
            return getIdColegioProfesional();
        case IDINSTITUCIONACADEMICA:
            return getIdInstitucionAcademica();
        case FECHAINGRESO:
            return getFechaIngreso();
        case EMAILINSTITUCIONAL:
            return getEmailInstitucional();
        case TELEFONOTRABAJO:
            return getTelefonoTrabajo();
        case TELEFONOEXTENSION:
            return getTelefonoExtension();
        case UBICACION:
            return getUbicacion();
        case IDTIPOINSTACADEMICA:
            return getIdTipoInstAcademica();
        case OTROTRABAJO:
            return getOtroTrabajo();
        case NOMBREEMPRESA:
            return getNombreEmpresa();
        case DIRECCIONEMPRESA:
            return getDireccionEmpresa();
        case FECHAINGRESOEMP:
            return getFechaIngresoEmp();
        case HORARIOTRABAJO:
            return getHorarioTrabajo();
        case MODPOR1:
            return getModPor1();
        case FECHAMODIFICACION:
            return getFechaModificacion();
        case JUBSEL:
            return getJubSel();
        case IDTIPOJUBILADO:
            return getIdTipoJubilado();
        case PLANPRESTACIONES:
            return getplanPrestaciones();
        case NOPASAPORTE:
            return getNoPasaporte();
        case NOMCOMPLETOCHEQ:
            return getNomcompletocheq();
        case CLV:
            return getClv();
        case TIPOPUESTOAPLICA:
            return getTipoPuestoAplica();
        case SUBPROGRAMA:
            return getSubprograma();
        case CAMBIONOMBRE:
            return getCambioNombre();
        case MOTIVOCMBNOM:
            return getMotivoCmbNom();
        case TIPOORIGEN:
            return getTipoOrigen();
        case TPVALIDACION:
            return gettpValidacion();
        case IDGRUPOETNICO:
            return getIdGrupoEtnico();
        case IDPAISORIGEN:
            return getIdPaisOrigen();
        case SISFORMAPAGO:
            return getSisFormaPago();
        case SISEMPLEADOJUBILADO:
            return getSisEmpleadoJubilado();
        case SISDIRECCION:
            return getSisDireccion();
        case SISDETPLAZACUBRELIC:
            return getSisDetplazaCubreLic();
        case SISVARIACIONNOMINA:
            return getSisVariacionNomina();
        case SISVARIACIONNOMINA1:
            return getSisVariacionNomina1();
        case SISSOLICITUD1:
            return getSisSolicitud1();
        case SISSOLICITUD:
            return getSisSolicitud();
        case SISFORMAPAGO1:
            return getSisFormaPago1();
        case SISDEDUCCIONISR:
            return getSisDeduccionIsr();
        case SISCUENTA1:
            return getSisCuenta1();
        case SISCUENTA:
            return getSisCuenta();
        case SISARCHIVOADJUNTO:
            return getSisArchivoAdjunto();
        case SISGRUPOETNICO:
            return getSisGrupoEtnico();
        default:
            return super.getAttrInvokeAccessor(index, attrDef);
        }
    }

    /**setAttrInvokeAccessor: generated method. Do not modify.
     */
    protected void setAttrInvokeAccessor(int index, Object value, 
                                         AttributeDefImpl attrDef) throws Exception {
        switch (index) {
        case REGISTROEMPLEADO:
            setRegistroEmpleado((Number)value);
            return;
        case IDNIVEL:
            setIdNivel((Number)value);
            return;
        case IDESTADO:
            setIdEstado((Number)value);
            return;
        case IDNACIONALIDAD:
            setIdNacionalidad((Number)value);
            return;
        case APELLIDO1:
            setApellido1((String)value);
            return;
        case APELLIDO2:
            setApellido2((String)value);
            return;
        case APELLIDOCASADA:
            setApellidocasada((String)value);
            return;
        case NOMBRE1:
            setNombre1((String)value);
            return;
        case NOMBRE2:
            setNombre2((String)value);
            return;
        case NOMBRE3:
            setNombre3((String)value);
            return;
        case ESTADOCIVIL:
            setEstadocivil((String)value);
            return;
        case GENERO:
            setGenero((String)value);
            return;
        case FECHANACIMIENTO:
            setFechaNacimiento((Date)value);
            return;
        case ORDENCEDULA:
            setOrdenCedula((String)value);
            return;
        case REGISTROCEDULA:
            setRegistroCedula((Number)value);
            return;
        case MUNICIPIOCEDULA:
            setMunicipioCedula((Number)value);
            return;
        case NIT:
            setNit((String)value);
            return;
        case IGSS:
            setIgss((String)value);
            return;
        case TELCASA:
            setTelCasa((String)value);
            return;
        case CELULAR:
            setCelular((String)value);
            return;
        case FAX:
            setFax((String)value);
            return;
        case EMAIL:
            setEmail((String)value);
            return;
        case TITULO:
            setTitulo((String)value);
            return;
        case COLEGIADO:
            setColegiado((String)value);
            return;
        case CREADOPOR:
            setCreadoPor((String)value);
            return;
        case FECHACREACION:
            setFechaCreacion((Date)value);
            return;
        case MODPOR:
            setModPor((String)value);
            return;
        case CUI:
            setCui((String)value);
            return;
        case NOPROBIDAD:
            setNoProbidad((String)value);
            return;
        case IDCOLEGIOPROFESIONAL:
            setIdColegioProfesional((Number)value);
            return;
        case IDINSTITUCIONACADEMICA:
            setIdInstitucionAcademica((Number)value);
            return;
        case FECHAINGRESO:
            setFechaIngreso((Date)value);
            return;
        case EMAILINSTITUCIONAL:
            setEmailInstitucional((String)value);
            return;
        case TELEFONOTRABAJO:
            setTelefonoTrabajo((Number)value);
            return;
        case TELEFONOEXTENSION:
            setTelefonoExtension((String)value);
            return;
        case UBICACION:
            setUbicacion((String)value);
            return;
        case IDTIPOINSTACADEMICA:
            setIdTipoInstAcademica((Number)value);
            return;
        case OTROTRABAJO:
            setOtroTrabajo((String)value);
            return;
        case NOMBREEMPRESA:
            setNombreEmpresa((String)value);
            return;
        case DIRECCIONEMPRESA:
            setDireccionEmpresa((String)value);
            return;
        case FECHAINGRESOEMP:
            setFechaIngresoEmp((Date)value);
            return;
        case HORARIOTRABAJO:
            setHorarioTrabajo((String)value);
            return;
        case MODPOR1:
            setModPor1((String)value);
            return;
        case FECHAMODIFICACION:
            setFechaModificacion((Date)value);
            return;
        case JUBSEL:
            setJubSel((Object)value);
            return;
        case IDTIPOJUBILADO:
            setIdTipoJubilado((Number)value);
            return;
        case PLANPRESTACIONES:
            setplanPrestaciones((Number)value);
            return;
        case NOPASAPORTE:
            setNoPasaporte((String)value);
            return;
        case NOMCOMPLETOCHEQ:
            setNomcompletocheq((String)value);
            return;
        case CLV:
            setClv((String)value);
            return;
        case TIPOPUESTOAPLICA:
            setTipoPuestoAplica((String)value);
            return;
        case SUBPROGRAMA:
            setSubprograma((Number)value);
            return;
        case CAMBIONOMBRE:
            setCambioNombre((String)value);
            return;
        case MOTIVOCMBNOM:
            setMotivoCmbNom((String)value);
            return;
        case TIPOORIGEN:
            setTipoOrigen((String)value);
            return;
        case TPVALIDACION:
            settpValidacion((String)value);
            return;
        case IDGRUPOETNICO:
            setIdGrupoEtnico((Number)value);
            return;
        case IDPAISORIGEN:
            setIdPaisOrigen((Number)value);
            return;
        default:
            super.setAttrInvokeAccessor(index, value, attrDef);
            return;
        }
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisSolicitud() {
        return (RowIterator)getAttributeInternal(SISSOLICITUD);
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisSolicitud1() {
        return (RowIterator)getAttributeInternal(SISSOLICITUD1);
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisDeduccionIsr() {
        return (RowIterator)getAttributeInternal(SISDEDUCCIONISR);
    }

    /**Add locking logic here.
     */
    public void lock() {
        super.lock();
    }

    protected void validateEntity2() {
            RowIterator vDirec;
            SisDireccionImpl vfilaDireccion; 
            Object vValidaEmp;
            String vQuerry;
          
          
            
            
           if(this.getNombre1()==null){
            throw new JboException("- Ingrese al menos el primer nombre");   
           }
           if(this.getApellido1()==null){
             throw new JboException("- Ingrese al menos el primer apellido");      
           }
           
            if (this.getFechaNacimiento()==null){
                throw new JboException("- Ingrese la fecha de nacimiento");        
            }
            if (this.getIdNacionalidad()==null){
                throw new JboException("- Seleccione la nacionalidad.");        
            }            
            
           if (this.getEstadocivil()==null){
               throw new JboException("- Seleccione el estado civil");        
           }
            if (this.getGenero()==null){
                throw new JboException("- Seleccione el genero");        
            }
         
         
          
        if (this.getIdNacionalidad().compareTo(30)== 0){ 
           if (this.getCui()==null || (this.getCui()!=null && this.getCui().equals(""))){
              
              if (this.getNoPasaporte()==null || (this.getNoPasaporte()!=null && this.getNoPasaporte().equals(""))){
                  
                  if (this.getOrdenCedula()==null){
                      throw new JboException("- Seleccione el orden de la cédula");        
                  }
                  if(this.getRegistroCedula()==null){
                      throw new JboException("- Ingrese el registro de la cédula");        
                  }
                  if (this.getMunicipioCedula()==null){
                      throw new JboException("- Seleccione el lugar donde fué extendida la cédula");        
                  }       
                  
              }else{
              
                  this.setNoPasaporte(this.getNoPasaporte().trim());
                  
              }
              
               
           }else{
               
               if (this.getCui().length()!=13){
                   throw new JboException("- Por favor ingrese los 13 dígitos del CUI sin espacios");        
                   
               }
               
               if (this.getOrdenCedula()==null || (this.getOrdenCedula()!=null && this.getOrdenCedula().equals(""))){
                   this.setRegistroCedula(null);
                   this.setMunicipioCedula(null);
               }else{
               
                   if(this.getRegistroCedula()==null){
                       throw new JboException("- Ingrese el registro de la cédula");        
                   }
                   if (this.getMunicipioCedula()==null){
                       throw new JboException("- Seleccione el lugar donde fué extendida la cédula");        
                   }    
                   
               }
               
               
           }//aqui
           
        }
            
           
           
           if (this.getIdNacionalidad().compareTo(30)== 0){
           
               if (this.getCui()==null || (this.getCui()!=null && this.getCui().equals(""))){
                   throw new JboException("- Por favor ingrese los 13 dígitos del CUI sin espacios");      
               }
               if (this.getNit()== null ||(this.getNit()!=null && this.getNit().equals("")) ){
                   throw new JboException("- Por favor ingrese el  NIT ");          
                   
               }
           }else  {
                if (this.getNoPasaporte() == null || (this.getNoPasaporte()!=null && this.getNoPasaporte().equals(""))){
                    throw new JboException("- Persona Extranjera, por favor ingrese el No. de pasaporte ");      
                }
           }
        
            
           
           
           
           if (this.getIgss()== null ||(this.getIgss()!=null && this.getIgss().equals("")) ){
               throw new JboException("- Por favor ingrese el número de Afiliacion al IGSS");
           }
           else{
           
               try{
               Double.parseDouble(this.getIgss().trim().toString());  
               }
               catch (NumberFormatException ex){
                   throw new JboException("- Por favor ingrese el número correcto de Afiliacion al IGSS sin guiones y espacios");
               }
           }
    
           
             
                        
            if (this.getIdNivel()==null){
                throw new JboException("- Por favor seleccione el nivel académico.");        
                
            }
            
            if (this.getIdColegioProfesional()==null && (this.getColegiado()!=null && !this.getColegiado().equals(""))){
                throw new JboException("- Por favor seleccione el colegio profesional");        
            }

            if (this.getIdColegioProfesional()!=null && (this.getColegiado()==null || (this.getColegiado()!=null && this.getColegiado().equals("")))){
                throw new JboException("- Por favor ingrese el número de colegiado");        
            }

            //if (this.getCui()!=null && !this.getCui().equals("") && this.getCui().length()!=13 ){
             if (this.getCui()!=null && !this.getCui().equals("")){
              if (utils.isNumber(this.getCui())==false)
                throw new JboException("- Por favor ingrese correctamente el Código Unico de Identificación");
                }
            
            if (this.getTelefonoExtension()!=null && this.getTelefonoExtension().length()>19){
                throw new JboException("Por favor revise el telefono trabajo con extension, valor muy grande");
            }
            
            if (this.getUbicacion()!=null && this.getUbicacion().length()>199){
                throw new JboException("Por favor revise el valor del lugar de trabajo, valor muy grande");
            }
            
            if (this.getTelefonoTrabajo()!=null && this.getTelefonoTrabajo().toString().length()>8){
                throw new JboException("Por favor revise el telefono de trabajo, valor muy grande");
                
            }
    
            
            if (this.getIdTipoInstAcademica()!=null && this.getIdTipoInstAcademica().compareTo(1)==0){
              /*  A peticion de Lic Lucky de personal esa informacion casi no se lleva
                if (this.getIdInstitucionAcademica()==null){
                    throw new JboException("Por favor seleccione la Institución Académica");
                }
                */
                if (this.getTitulo()==null ||  (this.getTitulo()!=null && this.getTitulo().equals(""))){
                    throw new JboException("Por favor ingrese el titulo académico");
                }
                
            }
            
          //  vDirec=this.getSisDireccion();
        //    vDirec.reset();
               
/*
            if (this.getSisDireccion().getRowCount()<=0){
                throw new JboException("- Agregue una direccion");        
            }else{
            
                vDirec=this.getSisDireccion();                
                 while(vDirec.hasNext()){
                     vfilaDireccion=(SisDireccionImpl) vDirec.next();
                     vfilaDireccion.validateEntity2();
                 }
            }
  */    
            if (this.getEmail()!=null && !this.getEmail().equals("")){
                if (!utils.isEmail(this.getEmail())){
                    throw new JboException("Por favor verifique casilla de Correo Electrónico Personal.");
                }
                
            }

        if (this.getEmailInstitucional() != null && 
            !this.getEmailInstitucional().equals("")) {
            if (!utils.isEmail(this.getEmailInstitucional())) {
                throw new JboException("Por favor verifique casilla de Correo Electrónico Institucional.");
            }
            /*if (!utils.isEmailInstitucional(this.getEmailInstitucional())) {
                String msj = 
                    "Por favor verifique casilla de Correo Electrónico Institucional, tiene que ser de la Universidad.";
                throw new JboException(msj);
            }*/
        }
            
            // Si esta seleccionado que trabaja en otro lugar
            if (this.getOtroTrabajo().equals("SI")){
                
                if (this.getNombreEmpresa()==null ||(this.getNombreEmpresa()!=null && this.getNombreEmpresa().equals("")) ){
                    throw new JboException("Por favor ingrese el nombre de la institucion donde trabaja.");
                }
                
                /*
                if (this.getFechaIngresoEmp()==null){
                    throw new JboException("Por favor ingrese desde cuando labora en la institucion donde trabaja.");
                }
                */
            } 
            
            
           if (this.getCui()!=null && !this.getCui().equals(""))
           {           
           
               vQuerry="select registro_empleado from sis_empleado where cui='"+this.getCui()+"'" + " and id_estado<>142";
               
               if (this.getRegistroEmpleado()!=null){
                   
                   vQuerry="select registro_empleado from sis_empleado where cui='"+this.getCui()+"' and registro_empleado<>"+this.getRegistroEmpleado()+ " and id_estado<>142";    
               }
               
               
               vValidaEmp=utils_DB.getEjecutarQuerry(this.getDBTransaction(),vQuerry);
               
               if (vValidaEmp!=null)
               {
               
                   throw new JboException("Por favor verifique el DPI ya existe en el registro de empleado "+vValidaEmp); 
               }
               
           }
           
           
           if (this.getOrdenCedula()!=null && this.getRegistroCedula()!=null && this.getMunicipioCedula()!=null){
           
               vQuerry="select registro_empleado from sis_empleado where registro_cedula="+this.getRegistroCedula()+" and orden_cedula='"+this.getOrdenCedula()+"' and municipio_cedula="+this.getMunicipioCedula()+ " and id_estado<>142";
               
               if (this.getRegistroEmpleado()!=null)
               {
               vQuerry="select registro_empleado from sis_empleado where registro_cedula="+this.getRegistroCedula()+" and orden_cedula='"+this.getOrdenCedula()+"' and municipio_cedula="+this.getMunicipioCedula()+ " and registro_empleado<>"+this.getRegistroEmpleado()+ " and id_estado<>142";
               }
           
               vValidaEmp=utils_DB.getEjecutarQuerry(this.getDBTransaction(),vQuerry);
               if (vValidaEmp!=null)
               {
               
                   throw new JboException("Por favor verifique la cédula ya existe en el registro de empleado "+vValidaEmp); 
               }
               
           }

           
        if (vOpcionRegistro==1) 
        {
            
         if (this.getRegistroEmpleado()==null || (this.getRegistroEmpleado()!=null && this.getRegistroEmpleado().compareTo(utils.getNumberOracle("90010001"))>0))
         {
            
            if (this.getTipoPuestoAplica()==null || this.getTipoPuestoAplica()!=null && this.getTipoPuestoAplica().equals("")){
                
                throw new JboException("Por favor seleccione el tipo de puesto al que aplica.");
            }
            
            if (this.getSubprograma()==null){
            
                throw new JboException("Por favor seleccione el subprograma donde va estar contratado.");
            }
         }  
            
        }
           
            
}


    protected void validateEntity2Contrat029() {
            RowIterator vDirec;
            SisDireccionImpl vfilaDireccion; 
            Object vValidaEmp;
            String vQuerry;
          
            
           if(this.getNombre1()==null){
            throw new JboException("- Ingrese al menos el primer nombre");   
           }
           if(this.getApellido1()==null){
             throw new JboException("- Ingrese al menos el primer apellido");      
           }
           
            if (this.getFechaNacimiento()==null){
                throw new JboException("- Ingrese la fecha de nacimiento");        
            }
            if (this.getIdNacionalidad()==null){
                throw new JboException("- Seleccione la nacionalidad.");        
            }            
            
           if (this.getEstadocivil()==null){
               throw new JboException("- Seleccione el estado civil");        
           }
            if (this.getGenero()==null){
                throw new JboException("- Seleccione el genero");        
            }
            
            if (this.getCui()==null){
                throw new JboException("- Por favor ingrese el Código Unico de Identificación.  ");        
            }
          
         
       if (this.getCui()!=null){
               
               if (this.getCui().length()!=13){
                   throw new JboException("- Por favor ingrese los 13 dígitos del CUI sin espacios");        
                   
               }
               
               if (this.getOrdenCedula()==null || (this.getOrdenCedula()!=null && this.getOrdenCedula().equals(""))){
                   this.setRegistroCedula(null);
                   this.setMunicipioCedula(null);
               }else{
               
                   if(this.getRegistroCedula()==null){
                       throw new JboException("- Ingrese el registro de la cédula");        
                   }
                   if (this.getMunicipioCedula()==null){
                       throw new JboException("- Seleccione el lugar donde fué extendida la cédula");        
                   }    
                   
               }
               
               
           }
            
           
             
            if (this.getIdColegioProfesional()==null && (this.getColegiado()!=null && !this.getColegiado().equals(""))){
                throw new JboException("- Por favor seleccione el colegio profesional");        
            }

            if (this.getIdColegioProfesional()!=null && (this.getColegiado()==null || (this.getColegiado()!=null && this.getColegiado().equals("")))){
                throw new JboException("- Por favor ingrese el número de colegiado");        
            }

            if (this.getCui()!=null && !this.getCui().equals("") && this.getCui().length()!=13 ){
              if (utils.isNumber(this.getCui())==false)
                throw new JboException("- Por favor ingrese correctamente el Código Unico de Identificación");
                }
            
            if (this.getTelefonoExtension()!=null && this.getTelefonoExtension().length()>19){
                throw new JboException("Por favor revise el telefono trabajo con extension, valor muy grande");
            }
            
            if (this.getUbicacion()!=null && this.getUbicacion().length()>199){
                throw new JboException("Por favor revise el valor del lugar de trabajo, valor muy grande");
            }
            
            if (this.getTelefonoTrabajo()!=null && this.getTelefonoTrabajo().toString().length()>8){
                throw new JboException("Por favor revise el telefono de trabajo, valor muy grande");
                
            }
    
            
            if (this.getIdTipoInstAcademica()!=null && this.getIdTipoInstAcademica().compareTo(1)==0){
                if (this.getIdInstitucionAcademica()==null){
                    throw new JboException("Por favor seleccione la Institución Académica");
                }
                
                if (this.getTitulo()==null ||  (this.getTitulo()!=null && this.getTitulo().equals(""))){
                    throw new JboException("Por favor ingrese el titulo académico");
                }
                
            }
            
            
            if (this.getEmail()!=null && !this.getEmail().equals("")){
                if (!utils.isEmail(this.getEmail())){
                    throw new JboException("Por favor verifique casilla de Correo Electrónico Personal.");
                }
                
            }

        if (this.getEmailInstitucional() != null && 
            !this.getEmailInstitucional().equals("")) {
            if (!utils.isEmail(this.getEmailInstitucional())) {
                throw new JboException("Por favor verifique casilla de Correo Electrónico Institucional.");
            }
            /*if (!utils.isEmailInstitucional(this.getEmailInstitucional())) {
                String msj = 
                    "Por favor verifique casilla de Correo Electrónico Institucional, tiene que ser de la Universidad.";
                throw new JboException(msj);
            }*/
        }
            
            // Si esta seleccionado que trabaja en otro lugar
            if (this.getOtroTrabajo().equals("SI")){
                
                if (this.getNombreEmpresa()==null ||(this.getNombreEmpresa()!=null && this.getNombreEmpresa().equals("")) ){
                    throw new JboException("Por favor ingrese el nombre de la institucion donde trabaja.");
                }
                
                if (this.getFechaIngresoEmp()==null){
                    throw new JboException("Por favor ingrese desde cuando labora en la institucion donde trabaja.");
                }
                
            } 
            
            
           if (this.getCui()!=null && !this.getCui().equals(""))
           {           
           
               vQuerry="select registro_empleado from sis_empleado where cui='"+this.getCui()+"'";
               
               if (this.getRegistroEmpleado()!=null){
                   
                   vQuerry="select registro_empleado from sis_empleado where cui='"+this.getCui()+"' and registro_empleado<>"+this.getRegistroEmpleado();    
               }
               
               
               vValidaEmp=utils_DB.getEjecutarQuerry(this.getDBTransaction(),vQuerry);
               
               if (vValidaEmp!=null)
               {
               
                   throw new JboException("Por favor verifique el DPI ya existe en el empleado "); 
               }
               
           }
           
           
           if (this.getOrdenCedula()!=null && this.getRegistroCedula()!=null && this.getMunicipioCedula()!=null){
           
               vQuerry="select registro_empleado from sis_empleado where registro_cedula="+this.getRegistroCedula()+" and orden_cedula='"+this.getOrdenCedula()+"' and municipio_cedula="+this.getMunicipioCedula();
               
               if (this.getRegistroEmpleado()!=null)
               {
               vQuerry="select registro_empleado from sis_empleado where registro_cedula="+this.getRegistroCedula()+" and orden_cedula='"+this.getOrdenCedula()+"' and municipio_cedula="+this.getMunicipioCedula()+ " and registro_empleado<>"+this.getRegistroEmpleado();
               }
           
               vValidaEmp=utils_DB.getEjecutarQuerry(this.getDBTransaction(),vQuerry);
               if (vValidaEmp!=null)
               {
               
                   throw new JboException("Por favor verifique la cédula ya existe en el registro de empleado "+vValidaEmp); 
               }
               
           }
            
    }

   
   /*
    *  Metodo para cambiar el nombre de minusculas a mayusculas
    */
    
    private void cambiarMayusculasNombre()
    {
    
        if (this.getNombre1()!=null){            
            this.setNombre1(this.getNombre1().toUpperCase().trim());
        }
        
        if (this.getNombre2()!=null){            
            this.setNombre2(this.getNombre2().toUpperCase().trim());
        }
                
        if (this.getNombre3()!=null){            
            this.setNombre3(this.getNombre3().toUpperCase().trim());
        }
                
        if (this.getApellido1()!=null){            
            this.setApellido1(this.getApellido1().toUpperCase().trim());
        }
        
        if (this.getApellido2()!=null){            
            this.setApellido2(this.getApellido2().toUpperCase().trim());
        }
        
        if (this.getApellidocasada()!=null){            
            this.setApellidocasada(this.getApellidocasada().toUpperCase().trim());
        }
        
    
    
    }


/*
 * Quitar acentos del nombre
 */
public String QuitarAcentos(String pCadena){
        String vModificado="";
        
        if (pCadena!=null){
        vModificado=pCadena.replace("Á","A");
        vModificado=vModificado.replace("É","E");
        vModificado=vModificado.replace("Í","I");
        vModificado=vModificado.replace("Ó","O");
        vModificado=vModificado.replace("Ú","U");
        }
       return vModificado;
       
}


/*
 *  Para preparar el nombre que se imprimira en el cheque max 32 c
 */

 public String getInicial(String pValor){
     String pIni;
     if (pValor!=null && pValor.length()>1)        
       pIni=pValor.substring(0,1);
     else
     pIni="";
     
     return pIni;
 }
 
 public String getNombreCasada(String pValor){
     String pIni;
     if (pValor!=null && pValor.length()>1)        
       pIni="DE " + pValor;
     else
     pIni="";
     
     return pIni;
 }    


 public String getValor(String pValor,int numCaracteres){
        String pResultado="";
        
      if (pValor==null || (pValor!=null && pValor.equals("null"))||(pValor!=null && pValor.equals("")) ){
                pResultado="";
     
      }else{        
      
        if (numCaracteres>0){
            pResultado=pValor.length()>numCaracteres?pValor.substring(0,numCaracteres):pValor;   
        }
            pResultado=pValor+" "; 
        }
        
      return pResultado;  
}
// funcion que define el nombre  del cheque..
public String nomCheque(String pNombreCompleto){

    String pNombreCompleto2;    
    
    //pNombreCompleto=getValor(this.getApellido1(),-1)+getValor(this.getApellido2(),-1)+getValor(getNombreCasada(this.getApellidocasada()),-1)+getValor(this.getNombre1(),-1)+getValor(this.getNombre2(),-1)+ getValor(this.getNombre3(),-1);
    
    pNombreCompleto2=pNombreCompleto;
    
    if (pNombreCompleto.length()>32){         
       pNombreCompleto2=getValor(this.getApellido1(),-1)+getValor(this.getApellido2(),-1)+getValor(this.getNombre1(),-1)+getValor(this.getNombre2(),-1)+ getValor(this.getNombre3(),-1); 
    }
     
    if (pNombreCompleto.length()>32){          
       pNombreCompleto2=getValor(this.getApellido1(),-1)+getValor(this.getApellido2(),-1)+getValor(this.getNombre1(),-1)+getValor(this.getNombre2(),-1); 
    }  
      
    if (pNombreCompleto.length()>32){          
       pNombreCompleto2=getValor(this.getApellido1(),-1)+getValor(this.getApellido2(),-1)+getValor(this.getNombre1(),-1)+getInicial(getValor(this.getNombre2(),-1)); 
    }
             
    if (pNombreCompleto2.length()>32){            
       pNombreCompleto2=getValor(this.getApellido1(),-1)+getInicial(getValor(this.getApellido2(),-1))+" "+getValor(getNombreCasada(this.getApellidocasada()),-1)+getValor(this.getNombre1(),-1)+getInicial(getValor(this.getNombre2(),-1));         
    }
    
    if (pNombreCompleto2.length()>32){            
       pNombreCompleto2=getValor(this.getApellido1(),-1)+" "+getValor(getNombreCasada(this.getApellidocasada()),-1)+getValor(this.getNombre1(),-1)+getInicial(getValor(this.getNombre2(),-1));         
    }
      
    if (pNombreCompleto2.length()>32){            
       pNombreCompleto2=getValor(this.getApellido1(),-1)+getValor(this.getNombre1(),-1)+getInicial(getValor(this.getNombre2(),-1));         
    }
    
      
    pNombreCompleto2=pNombreCompleto2.trim();
    pNombreCompleto2=QuitarAcentos(pNombreCompleto2);
    
    return pNombreCompleto2;

}

   private void nombreCompletoCheque(){
      // String pNombreCompleto2,pNombreCompleto;    
       String pNombreCompleto; 
       
       pNombreCompleto=getValor(this.getApellido1(),-1)+getValor(this.getApellido2(),-1)+getValor(getNombreCasada(this.getApellidocasada()),-1)+getValor(this.getNombre1(),-1)+getValor(this.getNombre2(),-1)+ getValor(this.getNombre3(),-1);
    
      /* pNombreCompleto2=pNombreCompleto;
       
       if (pNombreCompleto.length()>32){         
          pNombreCompleto2=getValor(this.getApellido1(),-1)+getValor(this.getApellido2(),-1)+getValor(this.getNombre1(),-1)+getValor(this.getNombre2(),-1)+ getValor(this.getNombre3(),-1); 
       }
        
       if (pNombreCompleto.length()>32){          
          pNombreCompleto2=getValor(this.getApellido1(),-1)+getValor(this.getApellido2(),-1)+getValor(this.getNombre1(),-1)+getValor(this.getNombre2(),-1); 
       }  
         
       if (pNombreCompleto.length()>32){          
          pNombreCompleto2=getValor(this.getApellido1(),-1)+getValor(this.getApellido2(),-1)+getValor(this.getNombre1(),-1)+getInicial(getValor(this.getNombre2(),-1)); 
       }
                
       if (pNombreCompleto2.length()>32){            
          pNombreCompleto2=getValor(this.getApellido1(),-1)+getInicial(getValor(this.getApellido2(),-1))+" "+getValor(getNombreCasada(this.getApellidocasada()),-1)+getValor(this.getNombre1(),-1)+getInicial(getValor(this.getNombre2(),-1));         
       }
       
       if (pNombreCompleto2.length()>32){            
          pNombreCompleto2=getValor(this.getApellido1(),-1)+" "+getValor(getNombreCasada(this.getApellidocasada()),-1)+getValor(this.getNombre1(),-1)+getInicial(getValor(this.getNombre2(),-1));         
       }
         
       if (pNombreCompleto2.length()>32){            
          pNombreCompleto2=getValor(this.getApellido1(),-1)+getValor(this.getNombre1(),-1)+getInicial(getValor(this.getNombre2(),-1));         
       }
   
         
     pNombreCompleto2=pNombreCompleto2.trim(); 
     pNombreCompleto2=QuitarAcentos(pNombreCompleto2);
     
     */
     this.setNomcompletocheq(nomCheque(pNombreCompleto));  
   }

    /**Custom DML update/insert/delete logic here.
     */
    protected void doDML(int operation, TransactionEvent e) {
               Number IdEstado,vCodCambio;
               Number RegistroEmpleado;
               Object vValorTemp=null;               
               RowIterator vDirec;
               SisDireccionImpl vfilaDireccion;
               NameValuePairs vParametros=new NameValuePairs();
               String vCambios;
               QUERRYSImpl vApp;
               Object [] pNombreCompletoCQ= {null,null};
               String vNombreCAnt,vNombreCAct;
               //System.out.println("Actualizando empleado");
             /*  Para ver q campos se modificaron
               for (int i=0; i<=57 ;i ++){
                   
                  if (this.isAttributeChanged(i))
                      System.out.println("cambio  " + i);
               }
               */
               
           //   System.out.println("empleado debug: " + this.getMotivoCmbNom());  
              vCodCambio=null;
              
              vApp=(QUERRYSImpl)this.getDBTransaction().getRootApplicationModule(); 
              
      if (this.vtipoValidacion==3){

          if (this.getRegistroEmpleado().compareTo(0)==0){
              
              throw new JboException("No se puede actualizar este registro, cancele e intente nuevamente.");
          }

          registrarLogOperaciones(operation, e);         
          super.doDML(operation, e);      
                  
                  
      }else
      { 
              if (this.vtipoValidacion==0){ // verifica los campos requeridos para un empleado nuevo regular
                  
                this.validateEntity2();   
                  
              }else if (this.vtipoValidacion==2){ // valida los campos obligatorios para los empleados nuevos de 029
                  
                validateEntity2Contrat029();    
                this.setTipoOrigen("029");
                  
              }
              
               
              
               
               
               
               if (operation==this.DML_INSERT)
               {
               
                   cambiarMayusculasNombre();
                   nombreCompletoCheque();
               
                   this.setCreadoPor(utils.getAuthUser(this.getDBTransaction()));            
                   
                   /*  ASGINACION DE REGISTRO ORIGINAL
                   if (vOpcionRegistro==0){  // opcion normal asigna registro empleado
                   
                    vValorTemp=utils_DB.getValorFuncion(e.getDBTransaction(),"sis_pkg_util.getRegEmpleado",null);
                    IdEstado=utils_DB.getIdEstado(e.getDBTransaction(),"ACTIVO","SIS_EMPLEADO");
                    this.setIdEstado(IdEstado);
                       
                     
                   }else if(vOpcionRegistro==1){ //opcion para asignar un registro de empleado ficticio.
                   
                     vValorTemp=utils_DB.getValorFuncion(e.getDBTransaction(),"sis_pkg_util.GETREGEMPLEADOFICTICIO",null);   
                     IdEstado=utils_DB.getIdEstado(e.getDBTransaction(),"INGRESADO","SIS_EMPLEADO");
                     this.setIdEstado(IdEstado);

                   }FINALIZA CAMBIO ASIGNACION */
                   
                   // NUEVA FORMA DE ASIGNAR REGISTROS
                    vValorTemp=utils_DB.getValorFuncion(e.getDBTransaction(),"sis_pkg_util.GETREGEMPLEADOFICTICIO",null);   
                    IdEstado=utils_DB.getIdEstado(e.getDBTransaction(),"INGRESADO","SIS_EMPLEADO");
                    this.setIdEstado(IdEstado);
                    //TERMINA NUEVA FORMA
                   
                   
                   
                   RegistroEmpleado=utils.getNumberOracle(vValorTemp);
                   
                   vValorTemp=utils_DB.getValorFuncion(e.getDBTransaction(),"sis_pkg_util.OBTENER_CLV("+RegistroEmpleado+")",null);   
                   this.setClv(vValorTemp.toString().trim());
                   
                   
                   vDirec=this.getSisDireccion();
                  // vDirec.reset();
                    while(vDirec.hasNext()){
                        vfilaDireccion=(SisDireccionImpl) vDirec.next();
                        vfilaDireccion.setRegistroEmpleado(RegistroEmpleado);
                       // vfilaDireccion.setSisEmpleado(this);
                        
                    }
                   
                   this.setRegistroEmpleado(RegistroEmpleado);     
                   this.setFechaIngresoEmp(this.getFechaIngreso());
                   vPlanPrestaciones=null;
                   
               }else if(operation==this.DML_UPDATE){
                   
                 //  if (this.getRegistroEmpleado()!=null && this.getRegistroEmpleado().compareTo(utils.getNumberOracle("20110085"))>0)
                  // {
                   
                   if (this.getRegistroEmpleado().compareTo(utils.getNumberOracle("90010001"))>0){
                   
                       this.setFechaIngresoEmp(this.getFechaIngreso());    
                   }
                   
                   
                   cambiarMayusculasNombre();
                   
                   if (vOpcionRegistro==0){
                        /*                   
                       public static final int APELLIDO1 = 4;
                       public static final int APELLIDO2 = 5;
                       public static final int APELLIDOCASADA = 6;
                       public static final int NOMBRE1 = 7;
                       public static final int NOMBRE2 = 8;
                       public static final int NOMBRE3 = 9;
                        */
                   
                        if (this.isAttributeChanged(4) ||this.isAttributeChanged(5)||this.isAttributeChanged(6)||this.isAttributeChanged(7)||this.isAttributeChanged(8)||this.isAttributeChanged(9))
                             nombreCompletoCheque();
                   }
                   
                  // }
               
                  this.setModPor1(utils.getAuthUser(this.getDBTransaction())); 
                  this.setFechaModificacion(utils.getFechaActual());
                  
                  if (this.getRegistroEmpleado().compareTo(0)==0){
                      
                      throw new JboException("No se puede actualizar este registro, cancele e intente nuevamente.");
                  }
                   
               }
            
                if (this.getOtroTrabajo()!=null && this.getOtroTrabajo().equals("NO"))
                {
                    this.setNombreEmpresa(null);             
                    this.setDireccionEmpresa(null);
                    this.setFechaIngresoEmp(null);
                    this.setHorarioTrabajo(null);
                }
            
         // verificando si tiene asigando algun tipo de jubilado   
        if (this.getSisEmpleadoJubilado().getRowCount()>0)
        {
            
            RowIterator vFilas = this.getSisEmpleadoJubilado();
           
            while (vFilas.hasNext()){
                 vFilas.next().remove();
                                 }
        }
        
        if (this.getJubSel()!=null)
        {
            SisEmpleadoJubiladoImpl fila;
            List <Number> vTiposJub;
            
            vTiposJub=(List <Number>)this.getJubSel();
            
            for (int i=0;i<vTiposJub.size();i++)
            {
                fila=(SisEmpleadoJubiladoImpl)this.getSisEmpleadoJubilado().createRow();            
                fila.setIdTipoJubilado(vTiposJub.get(i));
                this.getSisEmpleadoJubilado().insertRow(fila);    
            }            
        }
         
           registrarLogOperaciones(operation, e);  
           super.doDML(operation, e);
           
           vParametros.setAttribute("1",this.getRegistroEmpleado());
           vParametros.setAttribute("2",this.getplanPrestaciones());
           vParametros.setAttribute("3",utils.getAuthUser(this.getDBTransaction()));
           
           utils_DB.ejecutarProcedimiento(this.getDBTransaction(),"sis_pkg_procs.PARAMETRIZAR_PLAN_PRESTACIONES(?,?,?,null)",vParametros);
          
        
        if(operation==this.DML_UPDATE){
          
            if (this.getMotivoCmbNom()!=null && this.getMotivoCmbNom().equals("1")){
                
                vCodCambio=utils.getNumberOracle(1);
            }
            
            this.setMotivoCmbNom(null); 
            vCambios=this.guardarCambiosBitacora();
            
                pNombreCompletoCQ=this.getCambioAtributo(48);
                vNombreCAnt=(pNombreCompletoCQ[0]!=null?pNombreCompletoCQ[0].toString():"");
                vNombreCAct=(pNombreCompletoCQ[1]!=null?pNombreCompletoCQ[1].toString():"");
                    
                if (vNombreCAnt.equals(vNombreCAct)){
                    vNombreCAnt="";
                    vNombreCAct="";
                    vCodCambio=null;
                }
                
            
            if (!vCambios.equals("")||(!vNombreCAnt.equals(vNombreCAct))){
                vApp.getSisEmpleadoCambiosVw().insertarBitacora(this.getRegistroEmpleado(),vNombreCAnt,vNombreCAct,vCodCambio,vCambios,utils.getAuthUser(this.getDBTransaction()));          
            }
            
        //    System.out.println("Debug nomCHeq "+this.getCambioAtributo(48)[0]+ " "+this.getCambioAtributo(48)[1]);
            
            //if (!vCambios.equals(""))
           // vApp.getSisEmpleadoCambiosVw().insertarBitacora(this.getRegistroEmpleado(),vCambios,utils.getAuthUser(this.getDBTransaction()));          
           
        }
     }
           
    }

    /**Validation method for FechaNacimiento
     */
    public boolean validateFechaNacimiento(Date  data) {
        long vDiffMeses;
                long Milianio;
                Milianio=365*24*60*60;
               try{ 
                  if (data!=null){
                  vDiffMeses=new java.util.Date().getTime()- data.getValue().getTime(); 
                  vDiffMeses=vDiffMeses/1000;
                  if ((vDiffMeses/(Milianio))<15){
                      return false;
                  }
                                }
               }catch(Exception exep){
                exep.printStackTrace();
                 return false;
               }
        return true;
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisDireccion() {
        return (RowIterator)getAttributeInternal(SISDIRECCION);
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisCuenta() {
        return (RowIterator)getAttributeInternal(SISCUENTA);
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisCuenta1() {
        return (RowIterator)getAttributeInternal(SISCUENTA1);
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisFormaPago() {
        return (RowIterator)getAttributeInternal(SISFORMAPAGO);
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisFormaPago1() {
        return (RowIterator)getAttributeInternal(SISFORMAPAGO1);
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisVariacionNomina() {
        return (RowIterator)getAttributeInternal(SISVARIACIONNOMINA);
    }

    /**Gets the attribute value for CreadoPor, using the alias name CreadoPor
     */
    public String getCreadoPor() {
        return (String)getAttributeInternal(CREADOPOR);
    }

    /**Sets <code>value</code> as the attribute value for CreadoPor
     */
    public void setCreadoPor(String value) {
        setAttributeInternal(CREADOPOR, value);
    }

    /**Gets the attribute value for FechaCreacion, using the alias name FechaCreacion
     */
    public Date getFechaCreacion() {
        return (Date)getAttributeInternal(FECHACREACION);
    }

    /**Sets <code>value</code> as the attribute value for FechaCreacion
     */
    public void setFechaCreacion(Date value) {
        setAttributeInternal(FECHACREACION, value);
    }

    /**Gets the attribute value for ModPor, using the alias name ModPor
     */
    public String getModPor() {
        return (String)getAttributeInternal(MODPOR);
    }

    /**Sets <code>value</code> as the attribute value for ModPor
     */
    public void setModPor(String value) {
      //  System.out.println(" mod por "+ value);
        setAttributeInternal(MODPOR, value);
    }


    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisVariacionNomina1() {
        return (RowIterator)getAttributeInternal(SISVARIACIONNOMINA1);
    }

    /**Gets the attribute value for Cui, using the alias name Cui
     */
    public String getCui() {
        return (String)getAttributeInternal(CUI);
    }

    /**Sets <code>value</code> as the attribute value for Cui
     */
    public void setCui(String value) {
        setAttributeInternal(CUI, value);
    }

    /**Gets the attribute value for NoProbidad, using the alias name NoProbidad
     */
    public String getNoProbidad() {
        return (String)getAttributeInternal(NOPROBIDAD);
    }

    /**Sets <code>value</code> as the attribute value for NoProbidad
     */
    public void setNoProbidad(String value) {
        setAttributeInternal(NOPROBIDAD, value);
    }

    /**Gets the attribute value for IdColegioProfesional, using the alias name IdColegioProfesional
     */
    public Number getIdColegioProfesional() {
        return (Number)getAttributeInternal(IDCOLEGIOPROFESIONAL);
    }

    /**Sets <code>value</code> as the attribute value for IdColegioProfesional
     */
    public void setIdColegioProfesional(Number value) {
        setAttributeInternal(IDCOLEGIOPROFESIONAL, value);
    }

    /**Gets the attribute value for IdInstitucionAcademica, using the alias name IdInstitucionAcademica
     */
    public Number getIdInstitucionAcademica() {
        return (Number)getAttributeInternal(IDINSTITUCIONACADEMICA);
    }

    /**Sets <code>value</code> as the attribute value for IdInstitucionAcademica
     */
    public void setIdInstitucionAcademica(Number value) {
        setAttributeInternal(IDINSTITUCIONACADEMICA, value);
    }

    /**Gets the attribute value for FechaIngreso, using the alias name FechaIngreso
     */
    public Date getFechaIngreso() {
        return (Date)getAttributeInternal(FECHAINGRESO);
    }

    /**Sets <code>value</code> as the attribute value for FechaIngreso
     */
    public void setFechaIngreso(Date value) {
        setAttributeInternal(FECHAINGRESO, value);
    }

    /**Validation method for Cui
     */
    public boolean validateCui(String  data) {
        if (data.length()!=13){
            
            return false;
        }
        return true;
    }


    /**Gets the attribute value for EmailInstitucional, using the alias name EmailInstitucional
     */
    public String getEmailInstitucional() {
        return (String)getAttributeInternal(EMAILINSTITUCIONAL);
    }

    /**Sets <code>value</code> as the attribute value for EmailInstitucional
     */
    public void setEmailInstitucional(String value) {
        setAttributeInternal(EMAILINSTITUCIONAL, value);
    }

    /**Gets the attribute value for TelefonoTrabajo, using the alias name TelefonoTrabajo
     */
    public Number getTelefonoTrabajo() {
        return (Number)getAttributeInternal(TELEFONOTRABAJO);
    }

    /**Sets <code>value</code> as the attribute value for TelefonoTrabajo
     */
    public void setTelefonoTrabajo(Number value) {
        setAttributeInternal(TELEFONOTRABAJO, value);
    }

    /**Gets the attribute value for TelefonoExtension, using the alias name TelefonoExtension
     */
    public String getTelefonoExtension() {
        return (String)getAttributeInternal(TELEFONOEXTENSION);
    }

    /**Sets <code>value</code> as the attribute value for TelefonoExtension
     */
    public void setTelefonoExtension(String value) {
        setAttributeInternal(TELEFONOEXTENSION, value);
    }

    /**Gets the attribute value for Ubicacion, using the alias name Ubicacion
     */
    public String getUbicacion() {
        return (String)getAttributeInternal(UBICACION);
    }

    /**Sets <code>value</code> as the attribute value for Ubicacion
     */
    public void setUbicacion(String value) {
        setAttributeInternal(UBICACION, value);
    }


    /**Gets the attribute value for IdTipoInstAcademica, using the alias name IdTipoInstAcademica
     */
    public Number getIdTipoInstAcademica() {
        return (Number)getAttributeInternal(IDTIPOINSTACADEMICA);
    }

    /**Sets <code>value</code> as the attribute value for IdTipoInstAcademica
     */
    public void setIdTipoInstAcademica(Number value) {
        setAttributeInternal(IDTIPOINSTACADEMICA, value);
    }

    /**Gets the attribute value for OtroTrabajo, using the alias name OtroTrabajo
     */
    public String getOtroTrabajo() {
        return (String)getAttributeInternal(OTROTRABAJO);
    }

    /**Sets <code>value</code> as the attribute value for OtroTrabajo
     */
    public void setOtroTrabajo(String value) {
        setAttributeInternal(OTROTRABAJO, value);
    }

    /**Gets the attribute value for NombreEmpresa, using the alias name NombreEmpresa
     */
    public String getNombreEmpresa() {
        return (String)getAttributeInternal(NOMBREEMPRESA);
    }

    /**Sets <code>value</code> as the attribute value for NombreEmpresa
     */
    public void setNombreEmpresa(String value) {
        setAttributeInternal(NOMBREEMPRESA, value);
    }

    /**Gets the attribute value for DireccionEmpresa, using the alias name DireccionEmpresa
     */
    public String getDireccionEmpresa() {
        return (String)getAttributeInternal(DIRECCIONEMPRESA);
    }

    /**Sets <code>value</code> as the attribute value for DireccionEmpresa
     */
    public void setDireccionEmpresa(String value) {
        setAttributeInternal(DIRECCIONEMPRESA, value);
    }

    /**Gets the attribute value for FechaIngresoEmp, using the alias name FechaIngresoEmp
     */
    public Date getFechaIngresoEmp() {
        return (Date)getAttributeInternal(FECHAINGRESOEMP);
    }

    /**Sets <code>value</code> as the attribute value for FechaIngresoEmp
     */
    public void setFechaIngresoEmp(Date value) {
        setAttributeInternal(FECHAINGRESOEMP, value);
    }

    /**Gets the attribute value for HorarioTrabajo, using the alias name HorarioTrabajo
     */
    public String getHorarioTrabajo() {
        return (String)getAttributeInternal(HORARIOTRABAJO);
    }

    /**Sets <code>value</code> as the attribute value for HorarioTrabajo
     */
    public void setHorarioTrabajo(String value) {
        setAttributeInternal(HORARIOTRABAJO, value);
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisArchivoAdjunto() {
        return (RowIterator)getAttributeInternal(SISARCHIVOADJUNTO);
    }

    /**Gets the attribute value for ModPor1, using the alias name ModPor1
     */
    public String getModPor1() {
        return (String)getAttributeInternal(MODPOR1);
    }

    /**Sets <code>value</code> as the attribute value for ModPor1
     */
    public void setModPor1(String value) {
        setAttributeInternal(MODPOR1, value);
    }

    /**Gets the attribute value for FechaModificacion, using the alias name FechaModificacion
     */
    public Date getFechaModificacion() {
        return (Date)getAttributeInternal(FECHAMODIFICACION);
    }

    /**Sets <code>value</code> as the attribute value for FechaModificacion
     */
    public void setFechaModificacion(Date value) {
        setAttributeInternal(FECHAMODIFICACION, value);
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisEmpleadoJubilado() {
        return (RowIterator)getAttributeInternal(SISEMPLEADOJUBILADO);
    }

    /**Gets the attribute value for JubSel, using the alias name JubSel
     */
    public Object getJubSel() {
    
        Object vSeleccionados;
        vSeleccionados=getAttributeInternal(JUBSEL);  
         if (vSeleccionados==null){
             ArrayList vSelec=new ArrayList();
             RowIterator vFilas = this.getSisEmpleadoJubilado();
             
             while (vFilas.hasNext()){
                vSelec.add(vFilas.next().getAttribute("IdTipoJubilado"));
                                  }
                                  
              if (vSelec.size()>=1){
                  this.setJubSel(vSelec);       
              }
             
         }

        return getAttributeInternal(JUBSEL);
    }

    /**Sets <code>value</code> as the attribute value for JubSel
     */
    public void setJubSel(Object value) {
        setAttributeInternal(JUBSEL, value);
    }

    /**Gets the attribute value for IdTipoJubilado, using the alias name IdTipoJubilado
     */
    public Number getIdTipoJubilado() {
        return (Number)getAttributeInternal(IDTIPOJUBILADO);
    }

    /**Sets <code>value</code> as the attribute value for IdTipoJubilado
     */
    public void setIdTipoJubilado(Number value) {
        setAttributeInternal(IDTIPOJUBILADO, value);
    }


    public void setOpcionRegistroEmpleado(int opcion){
    
        vOpcionRegistro=opcion;    
        
    }

   public void setTipoValidacion(int vTipoValidacion){
       
       this.vtipoValidacion=vTipoValidacion;
       settpValidacion(this.vtipoValidacion+"");
   }


    /**Gets the attribute value for planPrestaciones, using the alias name planPrestaciones
     */
    public Number getplanPrestaciones() {
        Object vResultado;
        
        if (getAttributeInternal(PLANPRESTACIONES)==null)        
        {
        
         if (vPlanPrestaciones==null)
        {        
            vResultado=utils_DB.getEjecutarQuerry(this.getDBTransaction(),"select count(0) from sis_ajuste_exclud_empleado where registro_empleado="+(this.getRegistroEmpleado()==null?"0":this.getRegistroEmpleado().toString())+" and id_ajuste=24 and fecha_baja is null");
            
            if (vResultado!=null && vResultado.toString().equals("0"))
               vPlanPrestaciones=new Number(1);
            else    
               vPlanPrestaciones=new Number(0);
        
        }                
         
        return  vPlanPrestaciones;
        
        }
        else
        {
            
        return  (Number)getAttributeInternal(PLANPRESTACIONES);
           
        }
                        
        
    }

    /**Sets <code>value</code> as the attribute value for planPrestaciones
     */
    public void setplanPrestaciones(Number value) {
        setAttributeInternal(PLANPRESTACIONES, value);
    }

    /**Add attribute defaulting logic in this method.
     */
    protected void create(AttributeList attributeList) {
        super.create(attributeList);
       // this.setIdInstitucionAcademica(new Number(1));
        
    }

    /**Gets the attribute value for NoPasaporte, using the alias name NoPasaporte
     */
    public String getNoPasaporte() {
        return (String)getAttributeInternal(NOPASAPORTE);
    }

    /**Sets <code>value</code> as the attribute value for NoPasaporte
     */
    public void setNoPasaporte(String value) {
        setAttributeInternal(NOPASAPORTE, value);
    }

    /**Gets the attribute value for Nomcompletocheq, using the alias name Nomcompletocheq
     */
    public String getNomcompletocheq() {
        return (String)getAttributeInternal(NOMCOMPLETOCHEQ);
    }

    /**Sets <code>value</code> as the attribute value for Nomcompletocheq
     */
    public void setNomcompletocheq(String value) {
        setAttributeInternal(NOMCOMPLETOCHEQ, value);
    }


    /**Gets the attribute value for TipoPuestoAplica, using the alias name TipoPuestoAplica
     */
    public String getTipoPuestoAplica() {
        return (String)getAttributeInternal(TIPOPUESTOAPLICA);
    }

    /**Sets <code>value</code> as the attribute value for TipoPuestoAplica
     */
    public void setTipoPuestoAplica(String value) {
        setAttributeInternal(TIPOPUESTOAPLICA, value);
    }

    /**Gets the attribute value for Subprograma, using the alias name Subprograma
     */
    public Number getSubprograma() {
        return (Number)getAttributeInternal(SUBPROGRAMA);
    }

    /**Sets <code>value</code> as the attribute value for Subprograma
     */
    public void setSubprograma(Number value) {
        setAttributeInternal(SUBPROGRAMA, value);
    }

    /**Gets the attribute value for Clv, using the alias name Clv
     */
    public String getClv() {
        return (String)getAttributeInternal(CLV);
    }

    /**Sets <code>value</code> as the attribute value for Clv
     */
    public void setClv(String value) {
        setAttributeInternal(CLV, value);
    }

    /**Gets the attribute value for CambioNombre, using the alias name CambioNombre
     */
    public String getCambioNombre() {
        
        Object vResultado;
        if (vNombreC==null)
        {
        
            vResultado=utils_DB.getEjecutarQuerry(this.getDBTransaction(),"select '<ul><li><i>Nombre Anterior:</i> '|| nombrecompletoanterior||' </li><li><i>Nombre Actual:</i>  ' ||nombrecompletoactual||'</li><li><i>Fecha cambio:</i> '||to_char(fecha_cambio,'dd/mm/yyyy HH:mi')||'</li></ul>'\n" + 
            "as cambionombre\n" + 
            " from sis_empleado_cambios\n" + 
            " where registro_empleado="+ this.getRegistroEmpleado() + 
            " and nombrecompletoactual is not null\n" + 
            " and rownum<=1\n" + 
            " order by fecha_cambio desc\n");    
            
             if (vResultado!=null){
                 vNombreC=vResultado.toString();                 
             }else{
                 vNombreC="";
             }
            
        }
        
    
        return vNombreC;
    }

    /**Sets <code>value</code> as the attribute value for CambioNombre
     */
    public void setCambioNombre(String value) {
        setAttributeInternal(CAMBIONOMBRE, value);
    }

    /**Gets the attribute value for MotivoCmbNom, using the alias name MotivoCmbNom
     */
    public String getMotivoCmbNom() {
        return (String)getAttributeInternal(MOTIVOCMBNOM);
    }

    /**Sets <code>value</code> as the attribute value for MotivoCmbNom
     */
    public void setMotivoCmbNom(String value) {
        setAttributeInternal(MOTIVOCMBNOM, value);
    }

    /**Gets the attribute value for TipoOrigen, using the alias name TipoOrigen
     */
    public String getTipoOrigen() {
        return (String)getAttributeInternal(TIPOORIGEN);
    }

    /**Sets <code>value</code> as the attribute value for TipoOrigen
     */
    public void setTipoOrigen(String value) {
        setAttributeInternal(TIPOORIGEN, value);
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisDetplazaCubreLic() {
        return (RowIterator)getAttributeInternal(SISDETPLAZACUBRELIC);
    }


    /**Gets the attribute value for tpValidacion, using the alias name tpValidacion
     */
    public String gettpValidacion() {
        return (String)getAttributeInternal(TPVALIDACION);
    }

    /**Sets <code>value</code> as the attribute value for tpValidacion
     */
    public void settpValidacion(String value) {
        setAttributeInternal(TPVALIDACION, value);
    }

    /**Gets the attribute value for IdGrupoEtnico, using the alias name IdGrupoEtnico
     */
    public Number getIdGrupoEtnico() {
        return (Number)getAttributeInternal(IDGRUPOETNICO);
    }

    /**Sets <code>value</code> as the attribute value for IdGrupoEtnico
     */
    public void setIdGrupoEtnico(Number value) {
        setAttributeInternal(IDGRUPOETNICO, value);
    }

    /**Gets the attribute value for IdPaisOrigen, using the alias name IdPaisOrigen
     */
    public Number getIdPaisOrigen() {
        return (Number)getAttributeInternal(IDPAISORIGEN);
    }

    /**Sets <code>value</code> as the attribute value for IdPaisOrigen
     */
    public void setIdPaisOrigen(Number value) {
        setAttributeInternal(IDPAISORIGEN, value);
    }

    /**Gets the associated entity oracle.jbo.RowIterator
     */
    public RowIterator getSisGrupoEtnico() {
        return (RowIterator)getAttributeInternal(SISGRUPOETNICO);
    }

    /**Creates a Key object based on given key constituents
     */
    public static Key createPrimaryKey(Number registroEmpleado) {
        return new Key(new Object[]{registroEmpleado});
    }
}
