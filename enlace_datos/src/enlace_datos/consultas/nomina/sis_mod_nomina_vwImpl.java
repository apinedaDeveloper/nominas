package enlace_datos.consultas.nomina;

import enlace_datos.consultas.nomina.common.sis_mod_nomina_vw;

import enlace_datos.util.utils;
import enlace_datos.util.utils_DB;

import oracle.jbo.JboException;
import oracle.jbo.NameValuePairs;
import oracle.jbo.domain.Number;
import oracle.jbo.server.SessionImpl;
import oracle.jbo.server.ViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class sis_mod_nomina_vwImpl extends ViewObjectImpl implements sis_mod_nomina_vw {
    /**This is the default constructor (do not remove)
     */
    public sis_mod_nomina_vwImpl() {
    }
    
    
    public void agregarNomina(Number pIdContrato,String pIdProceso,String pSueldoBase,
    String pCompSal, String pEscalafon, String pDiasLab, String pBonoMensual,  String pObserva){

        NameValuePairs vParametros;
        vParametros = new NameValuePairs();
        
        vParametros.setAttribute("1",pIdContrato);
        vParametros.setAttribute("2",pIdProceso);
        vParametros.setAttribute("3",Double.parseDouble(pSueldoBase));
        vParametros.setAttribute("4",pCompSal);
        vParametros.setAttribute("5",pEscalafon);
        vParametros.setAttribute("6",pDiasLab);
        vParametros.setAttribute("7",pBonoMensual);
        vParametros.setAttribute("8",pObserva);
        vParametros.setAttribute("9",utils.getAuthUser(this.getDBTransaction()));
        /*
        System.out.println(pIdContrato);
        System.out.println(pIdProceso);
        System.out.println(Double.parseDouble(pSueldoBase));
        System.out.println(pCompSal);
        System.out.println(pEscalafon);
        System.out.println(pDiasLab);
        System.out.println(pBonoMensual);
        System.out.println(pObserva);
        System.out.println(usuario);*/
        
        
        
        if (!utils_DB.ejecutarProcedimiento(this.getDBTransaction(),"sis_pkg_util.INSERTA_MOD_NOMINA(?,?,?,?,?,?,?,?,?)",vParametros)){
           throw new JboException("Ha ocurrido un error, por favor intente nuevamente","01",null);
            
        }else{
            this.getDBTransaction().commit();
        }
                               
    }

    /**Gets the bind variable value for pUsuario
     */
    public String getpUsuario() {
        return (String)getNamedWhereClauseParam("pUsuario");
    }

    /**Sets <code>value</code> for bind variable pUsuario
     */
    public void setpUsuario(String value) {
        setNamedWhereClauseParam("pUsuario", value);
    }
}
