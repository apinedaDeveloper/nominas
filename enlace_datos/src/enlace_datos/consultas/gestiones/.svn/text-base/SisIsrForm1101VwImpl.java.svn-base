package enlace_datos.consultas.gestiones;


import enlace_datos.consultas.gestiones.common.SisIsrForm1101Vw;

import enlace_datos.entidades.gestiones.SisIsrForm1101Impl;

import enlace_datos.util.utils_DB;

import oracle.jbo.NameValuePairs;
import oracle.jbo.Row;
import oracle.jbo.domain.Number;
import oracle.jbo.server.ViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class SisIsrForm1101VwImpl extends ViewObjectImpl implements SisIsrForm1101Vw {
    /**This is the default constructor (do not remove)
     */
    public SisIsrForm1101VwImpl() {
    }

    /**Gets the bind variable value for pRegistro
     */
    public Number getpRegistro() {
        return (Number)getNamedWhereClauseParam("pRegistro");
    }

    /**Sets <code>value</code> for bind variable pRegistro
     */
    public void setpRegistro(Number value) {
        setNamedWhereClauseParam("pRegistro", value);
    }

    /**Gets the bind variable value for pAnio
     */
    public Number getpAnio() {
        return (Number)getNamedWhereClauseParam("pAnio");
    }

    /**Sets <code>value</code> for bind variable pAnio
     */
    public void setpAnio(Number value) {
        setNamedWhereClauseParam("pAnio", value);
    }
    
    
    public void verificarForma1101(Number pRegistro ,Number pAnio){
        
        NameValuePairs vParametros;       
        vParametros= new NameValuePairs();
        
        vParametros.setAttribute("1",pRegistro);       
        vParametros.setAttribute("2",pAnio);       
        
        utils_DB.ejecutarProcedimiento(this.getDBTransaction(),"sis_pkg_calculos_isr.VERIFICAR_FORM1101(?,?)",vParametros);
        this.getDBTransaction().commit();
    }
    
   public void verificarRentaNetaOtros(){
      
       SisIsrForm1101VwRowImpl vView;       
       Row []vFilas;
       vView=(SisIsrForm1101VwRowImpl)this.getCurrentRow();
       int vTam;
       
       vFilas=vView.getSisIsrForm1101OtrosptrnosVw().getAllRowsInRange();       
       Number vTotal=new Number(0);
       
       try{
       if (vFilas!=null)
       {
        vTam=vFilas.length;
        
            for (int i=0;i<vTam;i++)
            {              
             vTotal=vTotal.add((Number)vFilas[i].getAttribute("RentaNeta"));             
            }
       }
       
       }catch(Exception exep){
        
       }
       
 
      if (vView.getRentaNetaOtros().compareTo(vTotal)!=0)
      {
      
          vView.setRentaNetaOtros(vTotal);
          
      }
     
      
             
   }
    
}
