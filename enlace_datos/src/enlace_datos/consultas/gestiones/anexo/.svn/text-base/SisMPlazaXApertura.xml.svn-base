<?xml version='1.0' encoding='windows-1252' ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">

<ViewObject
   Name="SisMPlazaXApertura"
   BindingStyle="OracleName"
   CustomQuery="true"
   ComponentClass="enlace_datos.consultas.gestiones.anexo.SisMPlazaXAperturaImpl"
   FetchMode="FETCH_AS_NEEDED"
   UseGlueCode="false" >
   <DesignTime>
      <Attr Name="_isExpertMode" Value="true" />
      <Attr Name="_version" Value="10.1.3.42.70" />
      <Attr Name="_codeGenFlag2" Value="Access|Coll|VarAccess" />
   </DesignTime>
   <Variable
      Name="pidPrograma"
      Kind="where"
      Type="oracle.jbo.domain.Number" >
   </Variable>
   <Variable
      Name="pidDependencia"
      Kind="where"
      Type="oracle.jbo.domain.Number" >
   </Variable>
   <Variable
      Name="pAnio"
      Kind="where"
      Type="oracle.jbo.domain.Number" >
   </Variable>
   <Variable
      Name="pidUnidad"
      Kind="where"
      Type="oracle.jbo.domain.Number" >
   </Variable>
   <Variable
      Name="IdRenglon"
      Kind="where"
      Type="oracle.jbo.domain.Number" >
   </Variable>
   <Variable
      Name="pidPlaza"
      Kind="where"
      Type="oracle.jbo.domain.Number" >
   </Variable>
   <SQLQuery><![CDATA[
SELECT pt.formato2 partida, aper.plaza , aper.puesto clasif
, case when trim(sis_pkg_util.GETCONTRATO_NOM_PLAZA(aper.registro_empleado,aper.plaza ,aper.id_partida,aper.puesto,:pAnio)) is null 
  then ps.nombre 
  else sis_pkg_util.GETCONTRATO_NOM_PLAZA(aper.registro_empleado,aper.plaza ,aper.id_partida,aper.puesto,:pAnio) || ' F. C.' end as nom_puesto
, sis_pkg_util.GETESCALAMINIMA(aper.puesto,aper.fecha_inicio) escala_integrada, aper.horas_plaza horas, aper.fecha_inicio||' - '||aper.fecha_fin periodo, aper.salario_base sueldo
, case when aper.registro_empleado <> 0 then rg.registro_empleado || ' ' ||rg.nombrecompleto else ' ' end registro_aper
, aper.escalafon, aper.compl_salarial
, sis_pkg_calculos.GETVALORAJUSTEXVAR(27,0,aper.horas_plaza,30,30,sysdate) AS bono
, case when aper.periodo_plaza = 'S' then 'SEMESTRAL' ELSE 'ANUAL' END Regimen_Plaza
, aper.ANTIGUEDAD_PUESTO
, nt.tipo tipo_puesto
, (aper.SALARIO_BASE + aper.escalafon + aper.compl_salarial) total_sueldo
FROM sis_archivo_apertura aper
inner join sis_carga_archivo_datos dat on dat.id_carga_archivo_datos = aper.id_carga_archivo_datos
inner join sis_partida_vw pt on pt.id_partida = aper.id_partida
INNER JOIN sis_puesto ps on ps.id_puesto = aper.puesto
inner join SIS_CATEGORIA_PUESTO cat on cat.ID_CATEGORIA = ps.ID_CATEGORIA
inner join SIS_NIVEL_PUESTO nt on nt.ID_NIVEL_PUESTO = cat.ID_NIVEL_PUESTO
inner join sis_empleado_vw rg on rg.registro_empleado = aper.registro_empleado
WHERE dat.anio = :pAnio
and pt.id_programa = :pidPrograma
and pt.id_dependencia = :pidDependencia
and pt.id_unidad = :pidUnidad
and pt.id_renglon = :IdRenglon
and aper.plaza = :pidPlaza 
order by aper.fecha_inicio, aper.fecha_fin
   ]]></SQLQuery>
   <ViewAttribute
      Name="Partida"
      IsPersistent="false"
      Precision="18"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="PARTIDA"
      Expression="PARTIDA"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="18" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Plaza"
      IsPersistent="false"
      Precision="5"
      Scale="0"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="PLAZA"
      Expression="PLAZA"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Clasif"
      IsPersistent="false"
      Precision="10"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="CLASIF"
      Expression="CLASIF"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="10" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="NomPuesto"
      IsPersistent="false"
      Precision="4000"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="NOM_PUESTO"
      Expression="NOM_PUESTO"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="4000" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="EscalaIntegrada"
      IsPersistent="false"
      IsNotNull="true"
      Precision="12"
      Scale="2"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="ESCALA_INTEGRADA"
      Expression="ESCALA_INTEGRADA"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Horas"
      IsPersistent="false"
      Precision="4"
      Scale="2"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="HORAS"
      Expression="HORAS"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Periodo"
      IsPersistent="false"
      Precision="19"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="PERIODO"
      Expression="PERIODO"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="19" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Sueldo"
      IsPersistent="false"
      Precision="8"
      Scale="2"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="SUELDO"
      Expression="SUELDO"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="RegistroAper"
      IsPersistent="false"
      Precision="349"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="REGISTRO_APER"
      Expression="REGISTRO_APER"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="349" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Escalafon"
      IsPersistent="false"
      Precision="8"
      Scale="2"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="ESCALAFON"
      Expression="ESCALAFON"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="ComplSalarial"
      IsPersistent="false"
      Precision="8"
      Scale="2"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="COMPL_SALARIAL"
      Expression="COMPL_SALARIAL"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="Bono"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="BONO"
      Expression="BONO"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="RegimenPlaza"
      IsPersistent="false"
      Precision="9"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="REGIMEN_PLAZA"
      Expression="REGIMEN_PLAZA"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="9" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="AntiguedadPuesto"
      IsPersistent="false"
      Precision="4"
      Scale="2"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="ANTIGUEDAD_PUESTO"
      Expression="ANTIGUEDAD_PUESTO"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="TipoPuesto"
      IsPersistent="false"
      IsNotNull="true"
      Precision="30"
      Type="java.lang.String"
      ColumnType="VARCHAR2"
      AliasName="TIPO_PUESTO"
      Expression="TIPO_PUESTO"
      SQLType="VARCHAR" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="30" />
      </DesignTime>
   </ViewAttribute>
   <ViewAttribute
      Name="TotalSueldo"
      IsPersistent="false"
      Type="oracle.jbo.domain.Number"
      ColumnType="NUMBER"
      AliasName="TOTAL_SUELDO"
      Expression="TOTAL_SUELDO"
      SQLType="NUMERIC" >
      <DesignTime>
         <Attr Name="_DisplaySize" Value="22" />
      </DesignTime>
   </ViewAttribute>
</ViewObject>
