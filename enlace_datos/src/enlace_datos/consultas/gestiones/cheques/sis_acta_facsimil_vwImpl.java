package enlace_datos.consultas.gestiones.cheques;

import enlace_datos.consultas.gestiones.cheques.common.sis_acta_facsimil_vw;

import enlace_datos.util.utils_DB;

import oracle.jbo.JboException;
import oracle.jbo.NameValuePairs;
import oracle.jbo.server.ViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class sis_acta_facsimil_vwImpl extends ViewObjectImpl implements sis_acta_facsimil_vw {
    /**This is the default constructor (do not remove)
     */
    public sis_acta_facsimil_vwImpl() {
    }
  
    public void reset(){
        this.setWhereClause("id_acta_facsimil<0");
        this.executeQuery();
        
    }
    
    public void quitarFiltros(){
        this.setWhereClause("");
        this.executeQuery();
        
    }
    
    public void generarReposicion(String pMes,String pAnio,String pUsuario){
        
        NameValuePairs Parametros=new NameValuePairs();
        String vMensaje;

        Parametros.setAttribute("1",pMes);
        Parametros.setAttribute("2",pAnio);
        Parametros.setAttribute("3",pUsuario);
               
        vMensaje=utils_DB.ejecutarProcedimiento3(this.getDBTransaction(),"sis_pkg_calculos.CREAR_PROCESO(null,21,?,?,'Reposiciones Comision Fascimil',?)",Parametros);       
        this.getDBTransaction().commit();             
        
        if (vMensaje!=null && !vMensaje.toString().equals("OK")){
            throw new JboException(vMensaje);
            
        }else if (vMensaje==null){
            throw new JboException("Ha ocurrido un error,por favor intente nuevamente.");
        }
        
    }
    
    
}
