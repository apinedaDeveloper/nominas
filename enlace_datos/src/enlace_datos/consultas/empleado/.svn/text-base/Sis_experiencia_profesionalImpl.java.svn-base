package enlace_datos.consultas.empleado;


import enlace_datos.consultas.empleado.common.Sis_experiencia_profesional;

import enlace_datos.util.utils_DB;

import oracle.jbo.domain.Number;
import oracle.jbo.server.ViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class Sis_experiencia_profesionalImpl extends ViewObjectImpl implements Sis_experiencia_profesional {
    /**This is the default constructor (do not remove)
     */
    public Sis_experiencia_profesionalImpl() {
    }

    /**Gets the bind variable value for registro_personal
     */
    public Number getregistro_personal() {
        return (Number)getNamedWhereClauseParam("registro_personal");
    }

    /**Sets <code>value</code> for bind variable registro_personal
     */
    public void setregistro_personal(Number value) {
        setNamedWhereClauseParam("registro_personal", value);
    }
    
    //Procedimiento que confirma una experiencia laboral 
    public void confirmarExperienciaLaboral(Number pIdExperiencia){
        String query =
        "update sis_referencia_ficha_empl set estatus = 1 where id_referencia_ficha_empl = " + pIdExperiencia;
        utils_DB.getEjecutarConsulta(this.getDBTransaction(), query);
        this.getDBTransaction().commit();
    }
    
    //Método que elimina una Experiencia Laboral
    public void eliminarExperienciaLaboral(Number pIdExperiencia, String pRegistroEmpleado){
        String query = "update sis_referencia_ficha_empl set estatus = 2, fecha_eliminacion = sysdate, modi_por = '"+pRegistroEmpleado+"' where id_referencia_ficha_empl = " + pIdExperiencia;
        utils_DB.getEjecutarConsulta(this.getDBTransaction(), query);
        this.getDBTransaction().commit();
    }
    
}
