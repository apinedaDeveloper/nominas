package enlace_datos.consultas.empleado;


import enlace_datos.consultas.empleado.common.Sis_list_referencias_empleado_ficha;

import enlace_datos.util.utils_DB;

import oracle.jbo.domain.Number;
import oracle.jbo.server.ViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class Sis_list_referencias_empleado_fichaImpl extends ViewObjectImpl implements Sis_list_referencias_empleado_ficha {
    /**This is the default constructor (do not remove)
     */
    public Sis_list_referencias_empleado_fichaImpl() {
    }


    /**Gets the bind variable value for pIdFichaEmpleado
     */
    public Number getpIdFichaEmpleado() {
        return (Number)getNamedWhereClauseParam("pIdFichaEmpleado");
    }

    /**Sets <code>value</code> for bind variable pIdFichaEmpleado
     */
    public void setpIdFichaEmpleado(Number value) {
        setNamedWhereClauseParam("pIdFichaEmpleado", value);
    }
    
    //Procedimiento que confirma una Referencia Personal
    public void confirmarReferenciaPersonal(Number pIdReferencia){
        String query =
        "update sis_referencia_ficha_empl set estatus = 1 where id_referencia_ficha_empl = " + pIdReferencia;
        utils_DB.getEjecutarConsulta(this.getDBTransaction(), query);
        this.getDBTransaction().commit();
    }
    
    //Método que eliminar una Referencia Personal
    public void eliminarReferenciaPersonal(Number pIdReferencia, String pRegistroEmpleado){
        String query =
        "update sis_referencia_ficha_empl set estatus = 2, fecha_eliminacion = sysdate, modi_por = '"+pRegistroEmpleado+"' where id_referencia_ficha_empl = " + pIdReferencia;
        utils_DB.getEjecutarConsulta(this.getDBTransaction(), query);
        this.getDBTransaction().commit();
    }
}
